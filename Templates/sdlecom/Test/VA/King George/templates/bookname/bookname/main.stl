<#function getDocument URL, indexName, query>
	<#assign sc = new("net.javacoding.xsearch.api.SearchConnection")>
	<#assign searchQuery = new("net.javacoding.xsearch.api.SearchQuery")>
	${sc.setIndex(indexName)}
	${sc.setURL(URL)}
	${searchQuery.setAdvancedQuery(query)}
	<#assign sr = sc.search(searchQuery)>
	<#return sr.getDocList()>
</#function>

<#--<#assign uri = pageStyleUtil.getSystemValue("url") + request.getContextPath()>-->
<#assign booknames = getDocument("http://nv-rd1/vbeachailistest/", "bookname", "")>

<#-- <input type="hidden" name="sortBy" id="sortBy" value=BookName"> --> 

<select name="BookName" id="BookName" value="">

     <#if booknames?has_content>
         <#foreach doc in booknames>
              <option value="${doc.getString("BookName")}">${doc.getString("BookName")}</option> 
         </#foreach>
     </#if>
</select>