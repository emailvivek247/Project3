
<#assign num_pages = (searchResult.total/searchResult.length)?int>

<#if num_pages*searchResult.length < searchResult.total>
 <#assign num_pages = num_pages + 1>
</#if>
<#assign current_page_index = (searchResult.start/searchResult.length)?int + 1>

<#assign startItemIndex = (current_page_index-1)*searchResult.length + 1>
<#assign endItemIndex = current_page_index*searchResult.length>
<#if (endItemIndex>searchResult.total)>
 <#assign endItemIndex = searchResult.total>
</#if>

<Items>
  <TotalResults>${total}</TotalResults>
  <TotalPages>${num_pages}</TotalPages>
  <CurrentPage>${current_page_index}</CurrentPage>
  <PageLength>${length}</PageLength>
  <StartItemIndex>${startItemIndex}</StartItemIndex>
  <EndItemIndex>${endItemIndex}</EndItemIndex>
  <RequestProcessingTime>${searchTime}</RequestProcessingTime>
  <QueryString><![CDATA[${q}]]></QueryString>
  <#if searchResult.docs?has_content>
  <#foreach doc in searchResult.docs>
  <Item>

   <Book><![CDATA[${searchResult.highlight(doc, "Book")}]]></Book>
   <DESIGSTATUS><![CDATA[${searchResult.highlight(doc, "DESIGSTATUS")}]]></DESIGSTATUS>
   <DocType><![CDATA[${searchResult.highlight(doc, "DocType")}]]></DocType>
   <Instrument><![CDATA[${number.format("###0.##",doc.get("Instrument"))}
   ]]></Instrument>
   <LegalDescription><![CDATA[${searchResult.highlight(doc, "LegalDescription")}]]></LegalDescription>
   <Name><![CDATA[${searchResult.highlight(doc, "Name")}]]></Name>
   <OtherName><![CDATA[${searchResult.highlight(doc, "OtherName")}]]></OtherName>
   <Page><![CDATA[${searchResult.highlight(doc, "Page")}]]></Page>
   <RECDATEDISPLAY><![CDATA[${searchResult.highlight(doc, "RECDATEDISPLAY")}]]></RECDATEDISPLAY>
   <Role><![CDATA[${searchResult.highlight(doc, "Role")}]]></Role>

  </Item>
  </#foreach>
  </#if>
</Items>
