<#if searchResult.docs?has_content>
        <table id="docket" class="tablesorter">
		   <thead>
		       <tr>
			  <th>${searchResult.datasetConfiguration.getColumn("DateStamped").displayName}</th>
			  <th>${searchResult.datasetConfiguration.getColumn("EventCategory").displayName}</th>
			  <th>${searchResult.datasetConfiguration.getColumn("Description").displayName}</th>
                          <th>${searchResult.datasetConfiguration.getColumn("Comments").displayName}</th>
                          <th>${searchResult.datasetConfiguration.getColumn("NextSession").displayName}</th>
                        </tr>
		   </thead>
		<tbody>	
<#foreach doc in searchResult.docs>
        <#assign DateStamped = doc.getValues("DateStamped") Description = doc.getValues("Description") Comments = doc.getValues("Comments") EventCategory = doc.getValues("EventCategory") NextSession = doc.getValues("NextSession") ModifiedBy = doc.getValues("ModifiedBy")
             loopCounter = 0>
               <#foreach DateStamped in doc.getValues("DateStamped")>
		      <tr>
			  	<td>${DateStamped}</td>
			  	<td>${EventCategory[loopCounter]}</td>
			  	<td>${Description[loopCounter]}</td>
			<#--ADD HIGHLIGHT TO COMMENTS THAT HAVE THE WORD "SOP" INSIDE--> 	
			<#if Comments[loopCounter]?contains("SOP")>	  	
				<td style="background-color:#ffff33;">${Comments[loopCounter]}</td>
			<#else>
				<td>${Comments[loopCounter]}</td>
			</#if>
			  	<td>${NextSession[loopCounter]?replace('|', '&nbsp;')}</td>
                                
                               <#assign loopCounter = loopCounter + 1>
		      </tr>
		</#foreach>
           </#foreach>
        </tbody>
   </table>
<#else>
            <table id="docket" class="tablesorter">
	    		   <thead>
	    		       <tr>
	    			  <th>${searchResult.datasetConfiguration.getColumn("DateStamped").displayName}</th>
	    			  <th>${searchResult.datasetConfiguration.getColumn("EventCategory").displayName}</th>
	    			  <th>${searchResult.datasetConfiguration.getColumn("Description").displayName}</th>
	                              <th>${searchResult.datasetConfiguration.getColumn("Comments").displayName}</th>
	                              <th>${searchResult.datasetConfiguration.getColumn("NextSession").displayName}</th>
	                            </tr>
	    		   </thead>
	    		<tbody>	
	    <#foreach doc in searchResult.docs>
	            <#assign DateStamped = doc.getValues("DateStamped") Description = doc.getValues("Description") Comments = doc.getValues("Comments") EventCategory = doc.getValues("EventCategory") NextSession = doc.getValues("NextSession") ModifiedBy = doc.getValues("ModifiedBy")
	                 loopCounter = 0>
	                   <#foreach DateStamped in doc.getValues("DateStamped")>
	    		      <tr>
	    			  	<td></td>
	    			  	<td></td>
	    			  	<td></td>
	    			  	<td></td>
	    			  	<td></td>
	                                    
	                                   <#assign loopCounter = loopCounter + 1>
	    		      </tr>
	    		</#foreach>
	               </#foreach>
	            </tbody>
   </table>
</#if>


<script type="text/javascript">
$(function() { 
    oTable = $('#docket').dataTable({
    		"bJQueryUI": true,
    		"bPaginate": false,
    		"bLengthChange": false,
    		"bFilter": false,
    		"bSort": true,
    		"bInfo": false,
    		"bAutoWidth": false,
    		"aaSorting": [[0,'desc']]
	});
}); 
</script>

