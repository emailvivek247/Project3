<#macro layout(title="", encoding="utf-8")>
<html><head><title>ROAM</title>
<meta http-equiv="content-type" content="text/html; charset=${encoding}">
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/theme-blue.css" type="text/css" media="print, projection, screen" />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/export.css" type="text/css" media="print, projection, screen" />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/calendar.css" type="text/css" media="print, projection, screen" />
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/sdl.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.tablesorter.js"></script>

<link rel="shortcut icon" href="favicon.ico"/>

<#-- *Create functions for SmartNav -->
<script type="text/javascript">
function Initialize()
{   
   <#if searchResult.request.getParameter("lq")?has_content>
        setCookie('searchstring', 'lq=${httpUtil.encode(searchResult.request.getParameter("lq"))}' + '&q=${httpUtil.encode(searchResult.request.getParameter("q"))}' + '&searchType=${httpUtil.encode(searchResult.request.getParameter("searchType"))}' + '&start=${httpUtil.encode(searchResult.request.getParameter("start"))}');
   <#else>
        setCookie('searchstring', 'lq=${httpUtil.encode(searchResult.request.getParameter("lq"))}' + '&q=${httpUtil.encode(searchResult.request.getParameter("q"))}' + '&start=${httpUtil.encode(searchResult.request.getParameter("start"))}');
   </#if> 
   if(getCookie('currentselection') != null){    
       var results = document.getElementById("searchResult").getElementsByTagName("tr");      
       for ( var i=1, len= results.length; i<len; ++i ){
            if(document.all){
               var resultDetails = results[i].innerText.toString();
            }
            else{
               var resultDetails = results[i].textContent.toString();        
            }                  
            if (resultDetails == getCookie('currentselection')){
                //results[i].setAttribute("class", "selected");
                results[i].className = 'selected';                 
            }   
       }      
   }  
}

 function rowSelected(objSelect){
     if(document.all){
              setCookie('currentselection', objSelect.parentNode.parentNode.innerText.toString());
     }
     else{
              setCookie('currentselection', objSelect.parentNode.parentNode.textContent.toString());
     }
 }

</script>


</head>
<#-- *Add onLoad for initialize function -->
<body onKeyPress="trapKeyBoardEvents(event)" onLoad="Initialize()">
<#nested>
</body></html>
</#macro>
