<#assign num_pages = (searchResult.total/searchResult.length)?int>
<#if num_pages*searchResult.length < searchResult.total>
 <#assign num_pages = num_pages + 1>
</#if>
<#assign current_page_index = (searchResult.start/searchResult.length)?int + 1>
 <link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/pagination-blue.css" type="text/css" media="print, projection, screen" />
 <#assign pagination_already_defined = true >

<#-- Modified from 35em to 15em -->
 <div class="pagination" style="margin-left:15em">
  <#if (num_pages>1)>
    <#--determin pagination rage-->
<#-- *Modified from -5 to -1 -->
    <#assign start_page = current_page_index-1>
    <#if start_page <= 0><#assign start_page = 1></#if>
<#-- *Modified from +9 to +4 -->
    <#assign end_page = start_page + 4>
    <#if (end_page>num_pages)><#assign end_page = num_pages></#if>

    <#--Render Previous-->
    <#if (current_page_index>=2)>
      <a class="prev" href="?${noStartQueryString}&start=${length*(current_page_index - 2)}&searchable=${searchable}">Previous</a>
    </#if>
    <#foreach page_index in start_page..end_page>
      <#if page_index == current_page_index>
        <span class="current">${page_index}</span>
      <#else>
        <a href="?${noStartQueryString}&start=${length*(page_index-1)}&searchable=${searchable}">${page_index}</a>
      </#if>
    </#foreach>
    <#if current_page_index < num_pages>
      <a class="next" href="?${noStartQueryString}&start=${length*current_page_index}&searchable=${searchable}">Next</a>
    </#if>
  </#if>
 </div>
 <div style="clear: both;"></div>
