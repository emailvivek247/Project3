<?xml version="1.0" encoding="UTF-8"?>
<dataset name="St. Croix Case Search" exportedBy="null" createdAt="Fri Mar 21 15:45:03 EDT 2014">
  <display-order>-1</display-order>
  <description><![CDATA[St. Croix Case Search]]></description>
  <index-dir>stxcasesearch</index-dir>
  <is-prefix-root-index-directory>true</is-prefix-root-index-directory>
  <use-server-db-connection>true</use-server-db-connection>
  <number-of-hours-before-deletion>6</number-of-hours-before-deletion>
  <work-directory>_work</work-directory>
  <temporary-index-minimal-merge-percentage>1.0</temporary-index-minimal-merge-percentage>
  <merge-hours enabled="false" begin="1" end="3"/>
  <fetcher-threads>7</fetcher-threads>
  <writer-threads>3</writer-threads>
  <index-max-size>100000.0</index-max-size>
  <language>Any</language>
  <analyzer-name>com.fdt.sdl.core.analyzer.NumberLowerCaseAnalyzer</analyzer-name>
  <data-source-type>0</data-source-type>
  <fetcher-configuration dir="null">
  </fetcher-configuration>
  <dataquery name="WorkingQueue" batch-size="128" is-skipping-null-parameters="false">
    <sql><![CDATA[
SELECT DISTINCT
                  ISNULL(a.case_number
                  +ISNULL(cast(b.seq as varchar),'|')
                  +ISNULL((select party_role_typ_cd from ACM_PARTY_ROLE_TYP where PARTY_ROLE_TYP_ID = b.PARTY_ROLE_TYP_ID),'|')
                  +ISNULL(cast(b.PERSON_ALIAS_ID as varchar),'|')
                  +ISNULL(cast(c.CHARGE_ID as varchar),'|')
                  +ISNULL(cast(c.CHARGE_SEQ as varchar),'|')
                  ,a.CASE_NUMBER 
                  +ISNULL(cast(b.seq as varchar),'|')
                  +ISNULL((select party_role_typ_cd from ACM_PARTY_ROLE_TYP where PARTY_ROLE_TYP_ID = b.PARTY_ROLE_TYP_ID),'|')
                  +ISNULL(cast(b.PERSON_ALIAS_ID as varchar),'|')) AS 'PK_KEY'  
                  ,b.PERSON_ALIAS_ID AS 'PartyID'
                  ,p.DISPLAYNAME AS 'DisplayName' 
                  ,(select CASE_STATUS_DESCR from ACM_CASE_STATUS_TYP where CASE_STATUS_TYP_ID = a.CASE_STATUS_TYP_ID) AS 'CaseStatusDesc'
                  ,RTRIM(a.CASE_ID) AS 'CaseID'
                  ,a.CASE_NUMBER AS 'CaseNumber' 
                  ,PRT.PARTY_ROLE_DESC AS 'PartyRole' 
                  ,PRT.PARTY_ROLE_DESC AS 'PartyRoleFilter' 
                  ,PRT.PARTY_ROLE_TYP_CD AS 'PartyRoleCode'
                  ,CT.CASE_TYP_DESC AS  'CaseType' 
                  ,CT.CASE_TYP_CD  AS 'CaseTypeCode'
                  ,CT.CASE_TYP_DESC AS  'CaseTypeFilter' 
                  ,(select COURT_NAME from acm_court_typ where COURT_TYP_ID = a.court_typ_id) AS 'CourtType'
                  ,cast(c.CHARGE_SEQ as varchar) AS 'SeqNum'
                  ,CONVERT(VARCHAR(10),a.CASE_FILING_DT, 112) AS 'CaseFilingDate'
                  ,'St. Croix' AS 'Location'
                  ,a.case_short_title as 'CaseCaption'
                  ,b.PERSON_ALIAS_ID 'PersonAiliasID'
FROM acm_facts_case a
INNER JOIN ACM_CASE_TYP CT
ON A.CASE_TYP_ID = CT.CASE_TYP_ID
LEFT JOIN acm_party b
ON a.case_id = b.case_id
INNER JOIN ACM_PARTY_ROLE_TYP PRT
ON B.PARTY_ROLE_TYP_ID = PRT.PARTY_ROLE_TYP_ID
INNER JOIN ACM_PERSON p
ON p.PERSON_ALIAS_ID = b.person_alias_id
LEFT JOIN ACM_PHYSICAL_CHARS pc
ON pc.PERSON_ALIAS_ID = p.PERSON_ALIAS_ID
LEFT JOIN ACM_CHARGE_PARTY ACH
ON ACH.PARTY_ID = B.PARTY_ID
LEFT JOIN ACM_CHARGE c
ON c.CHARGE_ID = ACH.CHARGE_ID 
WHERE a.SEALED_CASE_FLG ='N'
AND a.VOID = 'N'
AND A.IS_RESTRICTED_FLG = 'N'
AND A.EXPUNGE_FLG = 'N'
AND CT.CASE_TYP_CD NOT IN ('CRSLD','JRSLD','MSSLD','PB','PBSLD','TRSLD')
AND p.SEALED_FLAG = 'N'
--AND b.RSTRCD_PARTY_FLAG = 'N'
AND b.SEALED_PARTY_FLG = 'N'
AND PRT.PARTY_ROLE_TYP_CD NOT IN ('VICT','VICTIM_REP','VICWIT','WIT','W','V')
and b.JUVENILE_FLG = 'N'
ORDER BY a.CASE_NUMBER
    ]]></sql>
    <column>
      <column-name>PK_KEY</column-name>
      <display-name><![CDATA[PK_KEY]]></display-name>
      <column-index>1</column-index>
      <column-type>java.lang.String</column-type>
      <primary-key>true</primary-key>
      <index-field-type>Keyword</index-field-type>
      <is-searchable search-weight="1000.0">true</is-searchable>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>PartyID</column-name>
      <display-name><![CDATA[Party ID]]></display-name>
      <column-index>2</column-index>
      <column-type precision="19" scale="0">java.math.BigDecimal</column-type>
      <index-field-type>Keyword</index-field-type>
      <is-searchable search-weight="3.0">true</is-searchable>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>DisplayName</column-name>
      <display-name><![CDATA[Name]]></display-name>
      <column-index>3</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CaseStatusDesc</column-name>
      <display-name><![CDATA[Case Status]]></display-name>
      <column-index>4</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CaseID</column-name>
      <display-name><![CDATA[Case ID]]></display-name>
      <column-index>5</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CaseNumber</column-name>
      <display-name><![CDATA[Case Number]]></display-name>
      <column-index>6</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>PartyRole</column-name>
      <display-name><![CDATA[Role]]></display-name>
      <column-index>7</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>PartyRoleFilter</column-name>
      <display-name><![CDATA[Role]]></display-name>
      <column-index>8</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Keyword</index-field-type>
      <is-searchable search-weight="3.0">true</is-searchable>
      <is-filterable filter-display-order="4" sort-filter-counts-by="2">true</is-filterable>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>PartyRoleCode</column-name>
      <display-name><![CDATA[Party Role Code]]></display-name>
      <column-index>9</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CaseType</column-name>
      <display-name><![CDATA[Case Type]]></display-name>
      <column-index>10</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CaseTypeCode</column-name>
      <display-name><![CDATA[Case Type Code]]></display-name>
      <column-index>11</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CaseTypeFilter</column-name>
      <display-name><![CDATA[Case Type]]></display-name>
      <column-index>12</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Keyword</index-field-type>
      <is-searchable search-weight="3.0">true</is-searchable>
      <is-filterable filter-display-order="3" sort-filter-counts-by="2">true</is-filterable>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CourtType</column-name>
      <display-name><![CDATA[Court Type]]></display-name>
      <column-index>13</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Keyword</index-field-type>
      <is-searchable search-weight="3.0">true</is-searchable>
      <is-filterable filter-display-order="2" sort-filter-counts-by="2">true</is-filterable>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>SeqNum</column-name>
      <display-name><![CDATA[Seq Num]]></display-name>
      <column-index>14</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CaseFilingDate</column-name>
      <display-name><![CDATA[Case Filing Date]]></display-name>
      <column-index>15</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <analyzer-name>com.fdt.sdl.core.analyzer.DateAnalyzer</analyzer-name>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>Location</column-name>
      <display-name><![CDATA[Location]]></display-name>
      <column-index>16</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Keyword</index-field-type>
      <is-searchable search-weight="3.0">true</is-searchable>
      <is-filterable filter-display-order="1">true</is-filterable>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CaseCaption</column-name>
      <display-name><![CDATA[CaseCaption]]></display-name>
      <column-index>17</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>PersonAiliasID</column-name>
      <display-name><![CDATA[PersonAiliasID]]></display-name>
      <column-index>18</column-index>
      <column-type precision="19" scale="0">java.math.BigDecimal</column-type>
      <index-field-type>Keyword</index-field-type>
      <is-searchable search-weight="3.0">true</is-searchable>
      <tag><![CDATA[]]></tag>
    </column>
  </dataquery>
  <dataquery name="Content">
    <sql><![CDATA[
SELECT	DISTINCT
        C.CASE_ID AS 'CaseID'
       ,C.CASE_NUMBER AS 'CaseNumber'
       ,P.PARTY_ID 'PartyID'
       ,PR.DISPLAYNAME 'PartyName'
       ,P.PARTY_ROLE_TYP_ID 'PartyRoleID'
       ,T.PARTY_ROLE_DESC 'PartyRole'
       ,P.PERSON_ALIAS_ID 'PersonAiliasID'
       ,CASE WHEN ATTORNEYS.LIST IS NULL OR ATTORNEYS.LIST = '' THEN CASE WHEN P.PRO_SE_FLAG = 'Y' THEN 'PRO SE' ELSE NULL END ELSE LEFT(ATTORNEYS.LIST, LEN(ATTORNEYS.LIST)-1) END AS 'AttorneyName'
FROM	ACM_FACTS_CASE C 
        INNER JOIN ACM_PARTY P ON P.CASE_ID = C.CASE_ID AND ISNULL(C.VOID,'N') = 'N' AND ISNULL(P.VOID,'N') = 'N' and P.PARTY_ROLE_TYP_ID not in (select PARTY_ROLE_TYP_ID from ACM_PARTY_ROLE_TYP where ROLE_FOR_ATT = 'Y')
        LEFT OUTER JOIN ACM_PARTY_ROLE_TYP T ON P.PARTY_ROLE_TYP_ID = T.PARTY_ROLE_TYP_ID 
        LEFT OUTER JOIN ACM_PERSON PR ON P.PERSON_ALIAS_ID = PR.PERSON_ALIAS_ID
        LEFT OUTER JOIN ACM_PARTY_STATUS_TYP ST ON P.PARTY_STATUS_TYP_ID = ST.PARTY_STATUS_TYP_ID
        CROSS APPLY (SELECT P2.DISPLAYNAME + ' - ' AS [text()] FROM ACM_ATTORNEY_PARTY AP 
		LEFT OUTER JOIN ACM_ATTORNEY AT ON AP.ATT_PERSON_ALIAS_ID = AT.PERSON_ALIAS_ID
		LEFT OUTER JOIN ACM_PARTY PAR2 ON  AP.ATTORNEY_PARTY_ID = PAR2.PARTY_ID and PAR2.VOID <> 'Y' and PAR2.CASE_ID = C.CASE_ID and PAR2.PARTY_ROLE_TYP_ID IN (select PARTY_ROLE_TYP_ID from ACM_PARTY_ROLE_TYP where ROLE_FOR_ATT = 'Y')
		LEFT OUTER JOIN ACM_PERSON P2 ON PAR2.PERSON_ALIAS_ID = P2.PERSON_ALIAS_ID
		LEFT OUTER JOIN ACM_PARTY_ROLE_TYP T2 ON PAR2.PARTY_ROLE_TYP_ID = T2.PARTY_ROLE_TYP_ID AND T2.ROLE_FOR_ATT = 'Y'
		WHERE P.PARTY_ID = AP.PARTY_ID  AND AP.ISPRIMARY = 'Y' AND AP.INACTIVE_FLG = 'N' AND SUBSTRING(CONVERT(CHAR,AP.EFFECTIVE_DATE ,121),1,11) < GETDATE() AND SUBSTRING(CONVERT(CHAR,DATEADD(DAY,1,AP.END_DATE),121),1,11) > GETDATE()
	FOR XML PATH ('')) ATTORNEYS (LIST)
WHERE JUVENILE_FLG <> 'Y'
 AND SEALED_FLAG <> 'Y'
 AND RSTRCD_PARTY_FLAG <> 'Y'
 AND SEALED_PARTY_FLG <> 'Y'
AND P.PERSON_ALIAS_ID in (?)
    ]]></sql>
    <parameter>
      <name>PersonAiliasID</name>
      <index>1</index>
      <type>java.math.BigDecimal</type>
      <value>80</value>
    </parameter>
    <column>
      <column-name>CaseID</column-name>
      <display-name><![CDATA[Case ID]]></display-name>
      <column-index>1</column-index>
      <column-type precision="10" scale="0">java.math.BigDecimal</column-type>
      <index-field-type></index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>CaseNumber</column-name>
      <display-name><![CDATA[Case Number]]></display-name>
      <column-index>2</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type></index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>PartyID</column-name>
      <display-name><![CDATA[Party ID]]></display-name>
      <column-index>3</column-index>
      <column-type precision="19" scale="0">java.math.BigDecimal</column-type>
      <index-field-type></index-field-type>
      <is-searchable search-weight="3.0">true</is-searchable>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>PartyName</column-name>
      <display-name><![CDATA[PartyName]]></display-name>
      <column-index>4</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
    </column>
    <column>
      <column-name>PartyRoleID</column-name>
      <display-name><![CDATA[PartyRoleID]]></display-name>
      <column-index>5</column-index>
      <column-type precision="10" scale="0">java.math.BigDecimal</column-type>
      <index-field-type>Keyword</index-field-type>
      <is-searchable search-weight="3.0">true</is-searchable>
    </column>
    <column>
      <column-name>PartyRole</column-name>
      <display-name><![CDATA[Role]]></display-name>
      <column-index>6</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type></index-field-type>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>PersonAiliasID</column-name>
      <display-name><![CDATA[PersonAiliasID]]></display-name>
      <column-index>7</column-index>
      <column-type precision="19" scale="0">java.math.BigDecimal</column-type>
      <index-field-type></index-field-type>
      <is-searchable search-weight="3.0">true</is-searchable>
      <tag><![CDATA[]]></tag>
    </column>
    <column>
      <column-name>AttorneyName</column-name>
      <display-name><![CDATA[Attorney]]></display-name>
      <column-index>8</column-index>
      <column-type>java.lang.String</column-type>
      <index-field-type>Text</index-field-type>
    </column>
  </dataquery>
  <default-template>Main</default-template>
  <tablet-template>Main</tablet-template>
  <mobile-template>Main</mobile-template>
  <searcher-max-active>8</searcher-max-active>
  <searcher-when-exhausted>1</searcher-when-exhausted>
  <searcher-max-wait>10000</searcher-max-wait>
  <searcher-max-idle>7</searcher-max-idle>
  <is-in-memory-search>false</is-in-memory-search>
  <allowed-ip-list>*</allowed-ip-list>
  <date-weight-formula>
    <time-weight time="600" weight="12.0"/>
    <time-weight time="1800" weight="11.0"/>
    <time-weight time="3600" weight="10.0"/>
    <time-weight time="21600" weight="9.0"/>
    <time-weight time="43200" weight="8.0"/>
    <time-weight time="86400" weight="7.0"/>
    <time-weight time="1296000" weight="6.0"/>
    <time-weight time="2678400" weight="5.0"/>
    <time-weight time="5356800" weight="4.0"/>
    <time-weight time="8035200" weight="3.0"/>
    <time-weight time="16070400" weight="2.0"/>
    <time-weight time="32140800" weight="1.3"/>
    <time-weight time="64281600" weight="1.2"/>
    <time-weight time="96422400" weight="1.1"/>
    <time-weight time="128563200" weight="1.05"/>
    <time-weight time="160704000" weight="1.04"/>
    <time-weight time="192844800" weight="1.03"/>
    <time-weight time="224985600" weight="1.02"/>
    <time-weight time="321408000" weight="1.01"/>
  </date-weight-formula>
  <spell-checking enabled="true"></spell-checking>
</dataset>
