<#assign num_pages = (searchResult.total/searchResult.length)?int>

<#if num_pages*searchResult.length < searchResult.total>
 <#assign num_pages = num_pages + 1>
</#if>
<#assign current_page_index = (searchResult.start/searchResult.length)?int + 1>

<#assign startItemIndex = (current_page_index-1)*searchResult.length + 1>
<#assign endItemIndex = current_page_index*searchResult.length>
<#if (endItemIndex>searchResult.total)>
 <#assign endItemIndex = searchResult.total>
</#if>

<Items>
  <TotalResults>${total}</TotalResults>
  <TotalPages>${num_pages}</TotalPages>
  <CurrentPage>${current_page_index}</CurrentPage>
  <PageLength>${length}</PageLength>
  <StartItemIndex>${startItemIndex}</StartItemIndex>
  <EndItemIndex>${endItemIndex}</EndItemIndex>
  <RequestProcessingTime>${searchTime}</RequestProcessingTime>
  <QueryString><![CDATA[${q}]]></QueryString>
  <#if searchResult.docs?has_content>
  <#foreach doc in searchResult.docs>
  <Item>

   <CASEID><![CDATA[${number.format("###0.##",doc.get("CASEID"))}
   ]]></CASEID>
   <CASENUMBER><![CDATA[${doc.get("CASENUMBER")}]]></CASENUMBER>
   <CITATIONID><![CDATA[${doc.get("CITATIONID")}]]></CITATIONID>
   <CITATIONNUMBER><![CDATA[${doc.get("CITATIONNUMBER")}]]></CITATIONNUMBER>
   <DLNUMBER><![CDATA[${doc.get("DLNUMBER")}]]></DLNUMBER>
   <DLSTATE><![CDATA[${doc.get("DLSTATE")}]]></DLSTATE>
   <DOB><![CDATA[${doc.get("DOB")}]]></DOB>
   <FIRSTNAME><![CDATA[${doc.get("FIRSTNAME")}]]></FIRSTNAME>
   <LASTNAME><![CDATA[${doc.get("LASTNAME")}]]></LASTNAME>
   <LASTNAMESOUNDEX><![CDATA[${doc.get("LASTNAMESOUNDEX")}]]></LASTNAMESOUNDEX>
   <PARTYID><![CDATA[${number.format("###0.##",doc.get("PARTYID"))}
   ]]></PARTYID>
   <TICKETNUMBER><![CDATA[${doc.get("TICKETNUMBER")}]]></TICKETNUMBER>
   <PERSON_ALIAS_ID><![CDATA[${number.format("###0.##",doc.get("PERSON_ALIAS_ID"))}
   ]]></PERSON_ALIAS_ID>

  </Item>
  </#foreach>
  </#if>
</Items>
