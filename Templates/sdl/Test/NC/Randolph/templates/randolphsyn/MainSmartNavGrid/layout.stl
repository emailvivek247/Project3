<#macro layout(title="", encoding="utf-8")>
<html><head><title>ROAM</title>
<meta http-equiv="content-type" content="text/html; charset=${encoding}">
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/export.css" type="text/css"  />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/prompt.css" type="text/css"  />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/jquery-ui-1.8.19.base.css" type="text/css"  />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/jquery-ui-1.8.19.glossy-classic.css" type="text/css"  />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/theme-base.css" type="text/css"  />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/theme-glossy-classic.css" type="text/css"  />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/demo_table_jui.css" type="text/css"  />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/collapsiblePanel.css" type="text/css" media="projection, screen" />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/imageViewer.css" type="text/css" media="projection, screen" />
<link rel="stylesheet" href="templates/resources/basket.css" type="text/css" media="projection, screen" />
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/prompt.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/sdl-min.js"></script>

<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/filterControl.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery-ui-1.8.19.custom.min.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.collapsible.min.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.tabSlideOut.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/modernizr.custom.98785.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.cookie.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.prettyPhoto.js"></script>

<link rel="shortcut icon" href="favicon.ico"/>
<#-- *Create functions for SmartNav -->
<script type="text/javascript">
function initialize() {
<#assign q = pageStyleUtil.encodeURL(searchResult.request.getParameter("q")) lq = pageStyleUtil.encodeURL(searchResult.request.getParameter("lq"))
     start = searchResult.request.getParameter("start") searchable = pageStyleUtil.encodeURL(searchResult.request.getParameter("searchable"))
     searchType = searchResult.request.getParameter("searchType") isPhoneticSearch = request.getParameter("isPhoneticSearch") 
     searchQuery = pageStyleUtil.encodeURL(searchResult.request.getParameter("searchQuery")) sortBy = pageStyleUtil.encodeURL(searchResult.request.getParameter("sortBy")) 
     desc = pageStyleUtil.encodeURL(searchResult.request.getParameter("desc")) asc = pageStyleUtil.encodeURL(searchResult.request.getParameter("asc"))>

<#if !searchType?has_content>
    searchType = 1  
</#if>
   setCookie('searchstring', '<#if searchQuery?has_content>searchQuery=${searchQuery}</#if><#if searchType?has_content>&searchType=${searchType}</#if><#if q?has_content>&q=${q}</#if><#if lq?has_content>&lq=${lq}</#if><#if start?has_content>&start=${start}</#if><#if searchable?has_content>&searchable=${searchable}</#if><#if isPhoneticSearch?has_content>&isPhoneticSearch=${isPhoneticSearch}</#if><#if sortBy?has_content>&sortBy=${sortBy}</#if><#if desc?has_content>&desc=${desc}</#if><#if asc?has_content>&asc=${asc}</#if>');

   if(getCookie('currentselection') != null){    
       var results = document.getElementById("searchResult").getElementsByTagName("tr");      
       for ( var i=1, len= results.length; i<len; ++i ){
            if(document.all){
               var resultDetails = results[i].innerText.toString();
            } else {
               var resultDetails = results[i].textContent.toString();        
            }                  
            if (resultDetails == getCookie('currentselection')){
                //results[i].setAttribute("class", "selected");
                results[i].className = 'selected';                 
            }   
       }      
   }  
}

 function rowSelected(objSelect){
     if(document.all){
         setCookie('currentselection', objSelect.parentNode.parentNode.innerText.toString());
     } else {
         setCookie('currentselection', objSelect.parentNode.parentNode.textContent.toString());
     }
 }

</script>


</head>
<#-- *Add onLoad for initialize function -->
<body onLoad="initialize()">
<#nested>
</body></html>
</#macro>