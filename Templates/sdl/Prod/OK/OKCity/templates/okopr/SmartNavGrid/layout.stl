<#macro layout(title="", encoding="utf-8")>
<html><head><title>Oklahoma Clerk OPR</title>
<meta http-equiv="content-type" content="text/html; charset=${encoding}">
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/blue.css" type="text/css" media="print, projection, screen" />
<link rel="stylesheet" href="<@com.currentUrlPrefix/>/resource/calendar.css" />
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.js"></script>
<script type="text/javascript" src="<@com.currentUrlPrefix/>/resource/jquery.tablesorter.js"></script>

<script type="text/javascript">
<!--
function setCookie(name, value, days) {
  if (!days) days = 100;
  var expire = new Date();
  expire.setTime(expire.getTime() + 3600000*24*days);
  document.cookie = name + "=" + escape(value) + "; expires=" + expire.toGMTString();
}
function getCookie(name) {
  var dc = document.cookie;
  var prefix = name + "=";
  var begin = dc.indexOf("; " + prefix);
  if (begin == -1) {
    begin = dc.indexOf(prefix);
    if (begin != 0) return null;
  } else {
    begin += 2;
  }
  var end = dc.indexOf(";", begin);
  if (end == -1) end = dc.length;
  return unescape(dc.substring(begin + prefix.length, end));
}
function delCookie(name) {
  if (getCookie(name)) document.cookie = name + "=" + "; expires=Fri, 31-Dec-99 23:59:59 GMT";
}

function Initialize()
{   
   <#if searchResult.request.getParameter("q")?has_content>
        setCookie('searchstring', 'q=${httpUtil.encode(searchResult.request.getParameter("q"))}'   + '&start=${httpUtil.encode(searchResult.request.getParameter("start"))}');
   <#else>
        setCookie('searchstring', 'lq=${httpUtil.encode(searchResult.request.getParameter("lq"))}' + '&start=${httpUtil.encode(searchResult.request.getParameter("start"))}');
   </#if>
   if(getCookie('currentselection') != null){    
       var results = document.getElementById("searchResult").getElementsByTagName("tr");      
       for ( var i=1, len= results.length; i<len; ++i ){
            if(document.all){
               var resultDetails = results[i].innerText.toString();
            }
            else{
               var resultDetails = results[i].textContent.toString();        
            }                  
            if (resultDetails == getCookie('currentselection')){
                //results[i].setAttribute("class", "selected");
                results[i].className = 'selected';                 
            }   
       }      
   }  
}

 function rowSelected(objSelect){
     if(document.all){
              setCookie('currentselection', objSelect.parentNode.parentNode.innerText.toString());
     }
     else{
              setCookie('currentselection', objSelect.parentNode.parentNode.textContent.toString());
     }
 }


//-->
</script>

<style type="text/css" media=all>
<!--
body{margin:4px 6px 4px 6px;background-color:#fff}
body,th,td,div,.p,a{font-family:verdana,sans-serif;font-size:90%}
.box{width:100%;border:1px solid #d2e4fc;border-collapse:collapse;float:top}
.box th,.box .header{text-align:left;font-weight:bold;background:#2191C0 url(styles/images/ui-bg_gloss-wave_75_2191c0_500x100.png) repeat-x scroll 50% 50%;border:1px}
.center{text-align:center;}
//-->
</style>
</head>
<body link="#0000ff" vlink="#0000ff" onload="Initialize()" onKeyPress="trapKeyBoardEvents(event)">

<#nested>
</body></html>
</#macro>
